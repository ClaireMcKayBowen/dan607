<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; Data Analysis – Security, Privacy, and Ethics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./04_better-presentations.html" rel="next">
<link href="./03_data-sharing-transfer.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-8da5b4427184b79ecddefad3d342027e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="www/styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./04_data-analysis.html">Week 4 - Data Analysis and Presentation Prep</a></li><li class="breadcrumb-item"><a href="./04_data-analysis.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data Analysis</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Security, Privacy, and Ethics</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome to DAN 607 - Summer 2025</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 1 - Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00_basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">DAN 607 Basics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_security-privacy-ethics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Security, Privacy, and Ethics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 2 - Data Collection and Acquisition</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_data-collection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Collection and Acquisition</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 3 - Data Storage and Sharing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_data-storage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Storage</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_data-sharing-transfer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Sharing and Transfer</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 4 - Data Analysis and Presentation Prep</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_data-analysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_better-presentations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Better Presentations</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 5 - Data Dissemination</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_data-dissemination-part1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Data Dissemination: Part 1</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_data-dissemination-part2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Data Dissemination: Part 2</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 6 - Data Destruction, Termination, and the Future</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_data-termination.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Data Destruction or Termination + Future Challenges</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_future.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Future Challenges</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Week 7 - Final Presentations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_final-presentations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Final Presentations</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#quick-recap-on-week-3-with-some-week-2" id="toc-quick-recap-on-week-3-with-some-week-2" class="nav-link active" data-scroll-target="#quick-recap-on-week-3-with-some-week-2"><span class="header-section-number">6.1</span> Quick recap on week 3 (with some week 2)</a>
  <ul class="collapse">
  <li><a href="#data-collection" id="toc-data-collection" class="nav-link" data-scroll-target="#data-collection"><span class="header-section-number">6.1.1</span> Data collection</a></li>
  <li><a href="#data-storage" id="toc-data-storage" class="nav-link" data-scroll-target="#data-storage"><span class="header-section-number">6.1.2</span> Data storage</a></li>
  <li><a href="#data-sharing-and-transfer" id="toc-data-sharing-and-transfer" class="nav-link" data-scroll-target="#data-sharing-and-transfer"><span class="header-section-number">6.1.3</span> Data sharing and transfer</a></li>
  <li><a href="#week-4-assignment" id="toc-week-4-assignment" class="nav-link" data-scroll-target="#week-4-assignment"><span class="header-section-number">6.1.4</span> Week 4 Assignment</a></li>
  </ul></li>
  <li><a href="#pets-process-overview" id="toc-pets-process-overview" class="nav-link" data-scroll-target="#pets-process-overview"><span class="header-section-number">6.2</span> PETs Process Overview</a>
  <ul class="collapse">
  <li><a href="#iteration-is-key" id="toc-iteration-is-key" class="nav-link" data-scroll-target="#iteration-is-key"><span class="header-section-number">6.2.1</span> Iteration is key</a></li>
  </ul></li>
  <li><a href="#what-is-the-privacy-utility-tradeoff" id="toc-what-is-the-privacy-utility-tradeoff" class="nav-link" data-scroll-target="#what-is-the-privacy-utility-tradeoff"><span class="header-section-number">6.3</span> What is the privacy-utility tradeoff?</a></li>
  <li><a href="#privacy-utility-tradeoff" id="toc-privacy-utility-tradeoff" class="nav-link" data-scroll-target="#privacy-utility-tradeoff"><span class="header-section-number">6.4</span> Privacy-Utility Tradeoff</a></li>
  <li><a href="#assessing-utility" id="toc-assessing-utility" class="nav-link" data-scroll-target="#assessing-utility"><span class="header-section-number">6.5</span> Assessing utility</a>
  <ul class="collapse">
  <li><a href="#general-utility-metrics" id="toc-general-utility-metrics" class="nav-link" data-scroll-target="#general-utility-metrics"><span class="header-section-number">6.5.1</span> General utility metrics</a></li>
  <li><a href="#specific-utility-metrics" id="toc-specific-utility-metrics" class="nav-link" data-scroll-target="#specific-utility-metrics"><span class="header-section-number">6.5.2</span> Specific utility metrics</a></li>
  <li><a href="#fit-for-purpose" id="toc-fit-for-purpose" class="nav-link" data-scroll-target="#fit-for-purpose"><span class="header-section-number">6.5.3</span> Fit-for-purpose</a></li>
  </ul></li>
  <li><a href="#assessing-disclosure-risk" id="toc-assessing-disclosure-risk" class="nav-link" data-scroll-target="#assessing-disclosure-risk"><span class="header-section-number">6.6</span> Assessing disclosure risk</a>
  <ul class="collapse">
  <li><a href="#identity-disclosure-metrics" id="toc-identity-disclosure-metrics" class="nav-link" data-scroll-target="#identity-disclosure-metrics"><span class="header-section-number">6.6.1</span> Identity disclosure metrics</a></li>
  <li><a href="#attribute-disclosure-metrics" id="toc-attribute-disclosure-metrics" class="nav-link" data-scroll-target="#attribute-disclosure-metrics"><span class="header-section-number">6.6.2</span> Attribute disclosure metrics</a></li>
  <li><a href="#inferential-disclosure" id="toc-inferential-disclosure" class="nav-link" data-scroll-target="#inferential-disclosure"><span class="header-section-number">6.6.3</span> Inferential disclosure</a></li>
  </ul></li>
  <li><a href="#there-are-lies-damned-lies-and-statistics" id="toc-there-are-lies-damned-lies-and-statistics" class="nav-link" data-scroll-target="#there-are-lies-damned-lies-and-statistics"><span class="header-section-number">6.7</span> There are lies, damned lies, and statistics…</a></li>
  <li><a href="#week-5-assignment" id="toc-week-5-assignment" class="nav-link" data-scroll-target="#week-5-assignment"><span class="header-section-number">6.8</span> Week 5 Assignment</a>
  <ul class="collapse">
  <li><a href="#read-1" id="toc-read-1" class="nav-link" data-scroll-target="#read-1"><span class="header-section-number">6.8.1</span> Read</a></li>
  <li><a href="#optional-additional-read" id="toc-optional-additional-read" class="nav-link" data-scroll-target="#optional-additional-read"><span class="header-section-number">6.8.2</span> Optional additional read</a></li>
  <li><a href="#optional-watch" id="toc-optional-watch" class="nav-link" data-scroll-target="#optional-watch"><span class="header-section-number">6.8.3</span> Optional watch</a></li>
  <li><a href="#collect-data" id="toc-collect-data" class="nav-link" data-scroll-target="#collect-data"><span class="header-section-number">6.8.4</span> Collect data</a></li>
  <li><a href="#write-600-to-1200-words-1" id="toc-write-600-to-1200-words-1" class="nav-link" data-scroll-target="#write-600-to-1200-words-1"><span class="header-section-number">6.8.5</span> Write (600 to 1200 words)</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./04_data-analysis.html">Week 4 - Data Analysis and Presentation Prep</a></li><li class="breadcrumb-item"><a href="./04_data-analysis.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data Analysis</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data Analysis</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div id="fig-data-analysise" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-data-analysise-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="www/images/data-lifecycle-analysis.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-data-analysise-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.1: A data lifecycle diagram emphasizing the ‘Data analysis’ stage in pink, with the remaining stages shown in lighter colors. This stage involves exploring, processing, and interpreting data to insights and trends for decision-making.
</figcaption>
</figure>
</div>
<p>For this week, we will learn about how to evaluate and analyze data while considering security, privacy, ethics, and equity.</p>
<section id="quick-recap-on-week-3-with-some-week-2" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="quick-recap-on-week-3-with-some-week-2"><span class="header-section-number">6.1</span> Quick recap on week 3 (with some week 2)</h2>
<p>We’ve discussed several challenges surrounding security, privacy, ethics, and equity in data collection, storage, and sharing.</p>
<section id="data-collection" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="data-collection"><span class="header-section-number">6.1.1</span> Data collection</h3>
<p>For data collection, we learned the importance of:</p>
<ul>
<li>Deciding whether to collect the data or not.</li>
<li>Defining groups and other variables that impacts our communities.</li>
<li>Recognizing that a lack of data results in a lack of action.</li>
</ul>
</section>
<section id="data-storage" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="data-storage"><span class="header-section-number">6.1.2</span> Data storage</h3>
<p>We covered the following topics:</p>
<ul>
<li>The overall process and considerations for cleaning data, especially how to handle missing data.</li>
<li>Best practices for virtual and physical storage of data, including the FAIR principles for creating proper metadata.</li>
</ul>
<p>Even more definitions…</p>
<div id="fig-stakeholders" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-stakeholders-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="www/images/01_stakeholders.png" class="img-fluid quarto-figure quarto-figure-center figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-stakeholders-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.2: Key stakeholders in the data ecosystem
</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Original dataset:
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Original dataset</strong> is the uncleaned, unprotected version of the data.</p>
<p>For example, raw 2020 Decennial Census microdata, which are never publicly released.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Confidential or gold standard dataset
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Confidential or gold standard dataset</strong> is the cleaned version (meaning edited for inaccuracies or inconsistencies) of the data; often referred to as the gold standard or actual data for analysis.</p>
<p>For example, the Census Edited File that is the final confidential data for the 2020 Census. This dataset is never publicly released but may be made available to others who are sworn to protect confidentiality (i.e., Special Sworn Status) and who are provided access in a secure environment, such as a Federal Statistical Research Data Center.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Public dataset or statistics
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Public dataset</strong> is the publicly released version of the confidential data.</p>
<p>For example, the US Census Bureau’s public tables and datasets or the Bureau of Labor Statistics reporting the unemployment rate statistics.</p>
</div>
</div>
</section>
<section id="data-sharing-and-transfer" class="level3" data-number="6.1.3">
<h3 data-number="6.1.3" class="anchored" data-anchor-id="data-sharing-and-transfer"><span class="header-section-number">6.1.3</span> Data sharing and transfer</h3>
<p>We also learned about the two general ways people access data:</p>
<ol type="1">
<li>Secure Data Access
<ul>
<li>Pros: Very secure, provides access to confidential data.</li>
<li>Cons: Inaccessible to most people.</li>
</ul></li>
<li>Public Data Files and Statistics
<ul>
<li>Pros: Accessible to anyone.</li>
<li>Cons: Altered for privacy, which may reduce accuracy for specific applications and may not always be properly protected.</li>
</ul></li>
</ol>
</section>
<section id="week-4-assignment" class="level3" data-number="6.1.4">
<h3 data-number="6.1.4" class="anchored" data-anchor-id="week-4-assignment"><span class="header-section-number">6.1.4</span> Week 4 Assignment</h3>
<section id="read" class="level4">
<h4 class="anchored" data-anchor-id="read">Read</h4>
<ul>
<li>Chapter 5: What Makes Datasets Difficult for Data Privacy?</li>
</ul>
</section>
<section id="watch-optional" class="level4">
<h4 class="anchored" data-anchor-id="watch-optional">Watch (Optional)</h4>
<ul>
<li><a href="https://www.youtube.com/watch?v=0Rnq1NpHdmw">Scientific Studies: Last Week Tonight with John Oliver (HBO)</a></li>
</ul>
</section>
<section id="write-600-to-1200-words" class="level4">
<h4 class="anchored" data-anchor-id="write-600-to-1200-words">Write (600 to 1200 words)</h4>
<p>Find a news analysis story<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> published within the last year (2024 – 2025) and answer the following questions:</p>
<ul>
<li>What does the article claim?</li>
<li>Does the content of the article apply to you, your family, and/or your community?</li>
<li>What makes you believe the conclusions?</li>
<li>Who wrote the article?</li>
<li>Where did the article get their facts?</li>
<li>What “red flags” (if any) do you notice?</li>
<li>Would the story change if there was more or less access to data? What would be that story?</li>
</ul>
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span style="color:#1696d2;">Class Activity 1</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p>From the required reading, we learned that we must carefully take into account how the data are collected, analyzed, disseminated. If we don’t, we risk missing a vital piece of the data story, especially when data sets are aggregated, and cause more unintended harm to those we are trying to protect.</p>
<p>With this in mind…</p>
<ol type="1">
<li><p>What did you learn about your own biases or assumptions while analyzing the article for your homework assignment? Did anything surprise you about what you believed at first versus what you concluded after digging into the facts and authorship?</p></li>
<li><p>If you were to rewrite the article, what would you change or expand upon and why? Would you choose a different source? Would you evaluate the credibility or red flags differently?</p></li>
<li><p>How might the conclusions or message of the article change if you read it from the perspective of someone with different lived experience—such as a policymaker, someone from another country, or someone directly impacted by the issue? What ethical or privacy implications become more or less salient when shifting that lens?</p></li>
</ol>
</div>
</div>
</section>
</section>
</section>
<section id="pets-process-overview" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="pets-process-overview"><span class="header-section-number">6.2</span> PETs Process Overview</h2>
<p>Note that this overview is opinionated and simplified in order to provide a reasonable summary.</p>
<div id="fig-process-actors" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-process-actors-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="www/images/04_synthesis-process-actors.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-process-actors-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.3: All of the privacy stakeholders discussed previously have a role in aspects of the synthesis process.
</figcaption>
</figure>
</div>
<div id="fig-process-iterative" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-process-iterative-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="www/images/04_synthesis-process-iterative.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-process-iterative-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.4: The synthesis process is very iterative, particularly in the privacy step
</figcaption>
</figure>
</div>
<section id="iteration-is-key" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="iteration-is-key"><span class="header-section-number">6.2.1</span> Iteration is key</h3>
<p>As mentioned in the textbook, data curators and privacy experts must fine-tune their PETs methods by repeatedly evaluating if the altered data are at acceptable levels of disclosure risk and quality. Often, the process of adjusting the PETs methods and earlier steps in the process becomes analogous to “holding sand.” Shifting or changing one part of the workflow, such as trying to improve the data quality for one variable, can result in the privacy “spilling out” in unexpected ways. Or a model you thought would create high quality data could result in the opposite.</p>
<div id="fig-process-actors" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-process-actors-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="www/images/04_its-fine-inverse.jpg" class="img-fluid figure-img" style="width:75.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-process-actors-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.5: First panel: “f(x)” and the “It’s Fine meme.” Second panel: “f^(-1)” and the “It’s Fine Meme”, but a flame is sitting in the chair saying “It’s fine.” surrounded by dogs.
</figcaption>
</figure>
</div>
</section>
</section>
<section id="what-is-the-privacy-utility-tradeoff" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="what-is-the-privacy-utility-tradeoff"><span class="header-section-number">6.3</span> What is the privacy-utility tradeoff?</h2>
<div id="fig-seth-meyers-balance" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-seth-meyers-balance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="www/images/04_seth-meyers-balance.gif" class="img-fluid quarto-figure quarto-figure-center figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-seth-meyers-balance-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.6: Weighing Seth Meyers GIF by Late Night with Seth Meyers
</figcaption>
</figure>
</div>
</section>
<section id="privacy-utility-tradeoff" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="privacy-utility-tradeoff"><span class="header-section-number">6.4</span> Privacy-Utility Tradeoff</h2>
<p>One of the most important challenges in statistical disclosure protection is managing the fundamental tradeoff between privacy loss and statistical utility. As we will see throughout this class, this tradeoff plays a central role in determining the technical approaches to data protection and in shaping ethical and equitable decisionmaking.</p>
<div id="fig-privacy-utility-trade-off" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-privacy-utility-trade-off-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="www/images/04_privacy-utility-tradeoff.png" class="img-fluid quarto-figure quarto-figure-center figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-privacy-utility-trade-off-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.7: Infusing noise
</figcaption>
</figure>
</div>
<p>The privacy-utility tradeoff describes the relationship between the amount of privacy protection applied to a dataset and the utility (or usefulness) of that data for analysis.</p>
<ul>
<li><p>Privacy loss is often referred to as the risk that confidential or sensitive information about individuals, records, or entities being directly observed or inferred from the release of public data and statistics.</p></li>
<li><p>Utility can be defined as the quality, qunatity, ease of access, permitted use and dissemination, and more (e.g., research, policy analysis, public reporting).</p></li>
</ul>
<p><strong>Example from <span class="citation" data-cites="bowen2023no">Bowen and Snoke (<a href="references.html#ref-bowen2023no" role="doc-biblioref">2023</a>)</span>:</strong> Suppose someone decided to release unaltered confidential data, say an individual’s official tax records. This scenario would result in the maximum privacy loss to the individual but simultaneously the maximum value to society that could be obtained from the data. Details about the person’s income, investments, donations, and Social Security number would be available to the public, but researchers could use that information to better understand issues such as income inequality and financial investment decisions. Conversely, if no data were released, the resulting analysis (or lack thereof) would simultaneously constitute the minimal privacy loss and the minimal value to society that could be derived from this dataset.</p>
</section>
<section id="assessing-utility" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="assessing-utility"><span class="header-section-number">6.5</span> Assessing utility</h2>
<p>Generally there are three ways to measure utility of the data:</p>
<ul>
<li>General (or global) utility metrics;</li>
<li>Specific utility metrics; and</li>
<li>Fit-for-purpose</li>
</ul>
<section id="general-utility-metrics" class="level3" data-number="6.5.1">
<h3 data-number="6.5.1" class="anchored" data-anchor-id="general-utility-metrics"><span class="header-section-number">6.5.1</span> General utility metrics</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
General utility
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>General utility</strong>, sometimes called global utility, measures the univariate and multivariate distributional similarity between the confidential data and the public data (e.g., sample means, sample variances, and the variance-covariance matrix).</p>
</div>
</div>
<p>General utility metrics are useful because they provide a sense of how “fit for use” public data is for analysis without making assumptions about the uses of the public data.</p>
<section id="univariate-general-utility" class="level4">
<h4 class="anchored" data-anchor-id="univariate-general-utility">Univariate general utility</h4>
<p>Some univariate general utility measures could include comparisons of:</p>
<ul>
<li><p><strong>Categorical variables:</strong> frequencies, relative frequencies.</p></li>
<li><p><strong>Numeric variables</strong> means, standard deviations, skewness, kurtosis (i.e., first four moments), percentiles, and number of zero/non-zero values.</p></li>
</ul>
</section>
<section id="bivariate-general-utility" class="level4">
<h4 class="anchored" data-anchor-id="bivariate-general-utility">Bivariate general utility</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Correlation fit
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Correlation fit</strong> measures how well the synthesizer recreates the linear relationships between variables in the confidential dataset.</p>
</div>
</div>
<p>To calculate correlation fit:</p>
<ul>
<li>Create correlation matrices for the public data and confidential data. Then measure differences across public and confidential data.</li>
</ul>
<div id="fig-corrdiff" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-corrdiff-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="www/images/04_puf-correlation-fit.png" class="img-fluid figure-img" style="width:90.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-corrdiff-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.8: Correlation Difference
</figcaption>
</figure>
</div>
<p><a href="#fig-corrdiff" class="quarto-xref">Figure&nbsp;<span>6.8</span></a> shows the creation of a difference matrix. Let’s summarize the difference matrix using mean absolute error.</p>
</section>
<section id="multivariate-general-utility-discriminant-based-metrics" class="level4">
<h4 class="anchored" data-anchor-id="multivariate-general-utility-discriminant-based-metrics">Multivariate general utility (discriminant-based metrics)</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Discriminant based methods
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Discriminant based methods</strong> measure how well a predictive model can distinguish (i.e., discriminate) between records from the confidential and public data (most commonly applied to synthetic data).</p>
</div>
</div>
<ul>
<li><p>The confidential data and public data should theoretically be drawn from the same super population.</p></li>
<li><p>The basic idea is to combine (stack) the confidential data and public data and see how well a predictive model distinguish (i.e., discriminate) between public observations and confidential observations.</p></li>
<li><p>An inability to distinguish between the records suggests a good synthesis.</p></li>
<li><p>It is possible to use logistic regression for the predictive modeling, but decision trees, random forests, and boosted trees are more common. (We recommend, to the degree possible, using more using more sophisticated models as well as machine learning best-practices like feature engineering and hyperparameter tuning because these practices will more effectively discriminate between classes.)</p></li>
<li><p><a href="#fig-discriminant" class="quarto-xref">Figure&nbsp;<span>6.9</span></a> shows three discriminant based metrics calculated on a good synthesis and a poor synthesis.</p></li>
</ul>
<div id="fig-discriminant" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-discriminant-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="www/images/04_same-population-disc-metrics.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Good Synthesis</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 100.0%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="www/images/04_different-population-disc-metrics.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Poor Synthesis</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-discriminant-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.9: A comparison of discriminant metrics on a good synthesis and a poor synthesis
</figcaption>
</figure>
</div>
<p>There are several different discriminant-based metrics, but it is beyond this course to cover them in depth. <span class="citation" data-cites="hu2024advancing">Hu and Bowen (<a href="references.html#ref-hu2024advancing" role="doc-biblioref">2024</a>)</span> covers these metrics in further detail.</p>
</section>
</section>
<section id="specific-utility-metrics" class="level3" data-number="6.5.2">
<h3 data-number="6.5.2" class="anchored" data-anchor-id="specific-utility-metrics"><span class="header-section-number">6.5.2</span> Specific utility metrics</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Specific utility
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Specific utility</strong>, sometimes called outcome specific utility, measures the similarity of results for a specific analysis (or analyses) of the confidential and public data (e.g., comparing the coefficients in regression models).</p>
</div>
</div>
<p>Specific utility metrics measure how suitable a public dataset is for specific analyses.</p>
<ul>
<li>These specific utility metrics will change from application to application, depending on common uses of the data.</li>
<li>A helpful rule of thumb: general utility metrics are useful for the data synthesizers to be convinced that they’re doing a good job. Specific utility metrics are useful to convince downstream data users that the data synthesizers are doing a good job.</li>
</ul>
<section id="recreating-inferences" class="level4">
<h4 class="anchored" data-anchor-id="recreating-inferences">Recreating inferences</h4>
<ul>
<li>It can be useful to compare statistical analyses on the confidential data and public data:
<ul>
<li>Do the estimates have the same sign?</li>
<li>Do the estimates have the same statistical inference at a common significance level?</li>
<li>Do the confidence intervals for the estimates overlap?</li>
</ul></li>
<li>Each of these questions is useful. <span class="citation" data-cites="barrientos2024feasibility">Barrientos et al. (<a href="references.html#ref-barrientos2024feasibility" role="doc-biblioref">2024</a>)</span> combine all three questions into sign, significance, and overlap (SSO) match. SSO is the proportion of times that intervals overlap and have the same sign and significance.</li>
</ul>
</section>
<section id="regression-confidence-interval-overlap" class="level4">
<h4 class="anchored" data-anchor-id="regression-confidence-interval-overlap">Regression confidence interval overlap</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Regression confidence interval overlap
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Regression confidence interval overlap</strong> quantifies how well confidence intervals from estimates on the public data recreate confidence intervals from the confidential data.</p>
<p>1 indicates perfect overlap (it is typically impossible to achieve a 1 on real-world data). 0 indicates intervals that are adjacent but not overlapping. Negative values indicate gaps between the intervals.</p>
<p>It is common to compare intervals from linear regression models and logistic regression models.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="www/images/04_confidence-interval-overlap.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>Confidence interval overlap as a measure of specific utility</figcaption>
</figure>
</div>
</section>
</section>
<section id="fit-for-purpose" class="level3" data-number="6.5.3">
<h3 data-number="6.5.3" class="anchored" data-anchor-id="fit-for-purpose"><span class="header-section-number">6.5.3</span> Fit-for-purpose</h3>
<p>The final group of utility metrics are called fit-for-purpose and are not discussed as often in the literature. <span class="citation" data-cites="drechsler2022challenges">Drechsler (<a href="references.html#ref-drechsler2022challenges" role="doc-biblioref">2022</a>)</span> states how fit-for-purpose measures could be considered something in between the previous two utility metric types. In other words, fit-for-purpose metrics are not global measures, because they focus on certain features of the data, but may not be specific to an analysis that data users and stakeholders are interested in like analysis-specific utility metrics.</p>
<p><span class="citation" data-cites="drechsler2022challenges">Drechsler (<a href="references.html#ref-drechsler2022challenges" role="doc-biblioref">2022</a>)</span> highlights how global utility metrics can be too broad and miss aspects of the synthetic dataset that do not align with the confidential dataset. On the other hand, analysis-specific metrics may perform well for the selected analyses on the synthetic data but not for others. This is why it is critical to determine the proper analysis, but it is difficult to anticipate all downstream data uses. For example, decennial census data products in the United States are utilized in thousands of different ways, making it impossible to predict all potential use cases. Therefore, fit-for-purpose metrics help privacy experts and researchers assess if their synthesis makes sense before implementing other utility metrics. Some examples include ensuring population totals or ages are positive.</p>
</section>
</section>
<section id="assessing-disclosure-risk" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="assessing-disclosure-risk"><span class="header-section-number">6.6</span> Assessing disclosure risk</h2>
<!-- ![Rory from the TV show, "Gilmore Girls," saying, "I'd say that was a fair assessment."](www/images/assessment-gilmore.gif){#fig-assessment-gilmore fig-align="center"} -->
<p>We now pivot to evaluating the disclosure risks of public data. Note that most thresholds for acceptable disclosure risk are often determined by law.</p>
<p>There are generally three kinds of disclosure risk:</p>
<ul>
<li>Identity disclosure risk</li>
<li>Attribute disclosure risk</li>
<li>Inferential disclosure risk</li>
</ul>
<section id="identity-disclosure-metrics" class="level3" data-number="6.6.1">
<h3 data-number="6.6.1" class="anchored" data-anchor-id="identity-disclosure-metrics"><span class="header-section-number">6.6.1</span> Identity disclosure metrics</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Identity disclosure
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Identity disclosure</strong> occurs if the data intruder associates a known individual with a public data record (e.g., a record linkage attack or when a data adversary combines one or more external data sources to identify individuals in the public data).</p>
</div>
</div>
<p><span class="citation" data-cites="sweeney2013identifying">Sweeney, Abu, and Winn (<a href="references.html#ref-sweeney2013identifying" role="doc-biblioref">2013</a>)</span> used voter data to re-identify individuals in the Personal Genome Project.</p>
<div id="fig-identity-disclosure-risk" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-identity-disclosure-risk-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="www/images/04_identity-disclosure-risk.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-identity-disclosure-risk-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.10: Record linkage attack
</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Identity disclosure metrics
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Identity disclosure metrics</strong> evaluate how often we correctly re-identify confidential records in the public data.</p>
<p><strong>Note:</strong> These metrics require major assumptions about attacker information.</p>
</div>
</div>
<section id="basic-matching-approaches" class="level4">
<h4 class="anchored" data-anchor-id="basic-matching-approaches">Basic matching approaches</h4>
<ul>
<li><p>We start by making assumptions about the knowledge an attacker has (i.e., external publicly accessible data they have access to).</p></li>
<li><p>For each confidential record, the data attacker identifies a set of public records which they believe contain the target record (i.e., potential matches) using the external variables as matching criteria.</p></li>
<li><p>There are distance-based and probability-based algorithms that can perform this matching. This matching process could be based on exact matches between variables or some relaxations (i.e., matching continuous variables within a certain radius of the target record, or matching adjacent categorical variables).</p></li>
<li><p>We then evaluate how accurate our re-identification process was using a variety of metrics.</p></li>
</ul>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" aria-current="page">Expected Match Rate</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">True Match Rate</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">False Match Rate</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<ul>
<li><p><strong>Expected Match Rate</strong>: On average, how likely is it to find a “correct” match among all potential matches? Essentially, the expected number of observations in the confidential data expected to be correctly matched by an intruder.</p>
<ul>
<li><p>Higher expected match rate = higher identification disclosure risk.</p></li>
<li><p>The two other risk metrics below focus on the subset of confidential records for which the intruder identifies a single match.</p></li>
</ul></li>
</ul>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<ul>
<li><strong>True Match Rate</strong>: The proportion of true unique matches among all confidential records. Higher true match rate = higher identification disclosure risk.</li>
</ul>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<ul>
<li><strong>False Match Rate</strong>: The proportion of false matches among the set of unique matches. Lower false match rate = higher identification disclosure risk.</li>
</ul>
</div>
</div>
</div>
</section>
</section>
<section id="attribute-disclosure-metrics" class="level3" data-number="6.6.2">
<h3 data-number="6.6.2" class="anchored" data-anchor-id="attribute-disclosure-metrics"><span class="header-section-number">6.6.2</span> Attribute disclosure metrics</h3>
<p>It is possible to learn confidential attributes without perfectly re-identifying observations in the data.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Attribute disclosure
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Attribute disclosure</strong> occurs if the data intruder determines new characteristics (or attributes) of an individual based on the information available through public data or statistics (e.g., if a dataset shows that all people age 50 or older in a city are on Medicaid, then the data adversary knows that any person in that city above age 50 is on Medicaid). This information is learned without idenfying a specific individual in the data!</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Predictive Accuracy
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Predictive accuracy</strong> measures how well an attacker can learn about attributes in the confidential data using the public data (and possibly external data).</p>
</div>
</div>
<ul>
<li><p>Similar to above, you start by matching public records to confidential records. Alternatively, you can build a predictive model using the public data to make predictions on the confidential data.</p></li>
<li><p><strong>key variables</strong>: Variables that an attacker already knows about a record and can use to match.</p></li>
<li><p><strong>target variables</strong>: Variables that an attacker wishes to know more or infer about using the public data.</p></li>
<li><p>Pick a sensitive variable in the confidential data and use the public data to make predictions. Evaluate the accuracy of the predictions.</p></li>
</ul>
</section>
<section id="inferential-disclosure" class="level3" data-number="6.6.3">
<h3 data-number="6.6.3" class="anchored" data-anchor-id="inferential-disclosure"><span class="header-section-number">6.6.3</span> Inferential disclosure</h3>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Inferential disclosure
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Inferential disclosure</strong> occurs if the data intruder predicts the value of some characteristic from an individual more accurately with the public data or statistic than would otherwise have been possible (e.g., if a public homeownership dataset reports a high correlation between the purchase price of a home and family income, a data adversary could infer another person’s income based on purchase price listed on Redfin or Zillow).</p>
</div>
</div>
<p>Inferential disclosure is a specialized type of attribute disclosure, so the metrics discussed above apply here as well. Inference disclosure risk is very hard to predict, so many federal agencies tend to disregard this type of risk.</p>
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span style="color:#1696d2;">Class Activity 2</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p>Suppose you’ve been asked to prepare a public-use version of a comprehensive K–12 education dataset. The original dataset includes sensitive information about all students in a state, such as names, ages, genders, home addresses, and standardized test scores.</p>
<ol type="1">
<li>What PETs methods would you apply to protect student privacy?</li>
<li>What checks or evaluations would you perform to assess whether the dataset has been sufficiently protected against re-identification or misuse? Hint: Think back to the recent reading assignment - Chapter 4.</li>
<li>How would you balance privacy protection with the need to preserve the usefulness of the data for researchers and policymakers? Hint: Think back to the recent reading assignment - Chapter 4.</li>
<li>What are the potential ethical and equity issues in how you choose and apply PETs methods (e.g., different impacts across student groups or school districts)</li>
</ol>
</div>
</div>
</section>
</section>
<section id="there-are-lies-damned-lies-and-statistics" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="there-are-lies-damned-lies-and-statistics"><span class="header-section-number">6.7</span> There are lies, damned lies, and statistics…</h2>
<div id="fig-liar" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-liar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="www/images/04_liar.gif" class="img-fluid quarto-figure quarto-figure-center figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-liar-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.11: Valerie, from the movie, “Princess Bride,” saying, “Liar!”
</figcaption>
</figure>
</div>
<p>There are often two sides to every story, especially when it comes to how people collect, store, transfer, and analyze data. In this in-class activity, we will apply the ideas and concepts we’ve learned so far to answer a question in multiple ways that are technically correct, even if the different answers contradict one another.</p>
<div class="callout callout-style-simple callout-none no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span style="color:#1696d2;">Class Activity 3</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p>You will be given 30 minutes to complete this in-class activity (with a check-in at 15 minutes to assess progress).</p>
<p>Each of you has been assigned a random “topic” (see table below).</p>
<p>For your assigned question, come up with at least two different statistics that are technically correct but seem to contradict each other (or at least are drastically different) based on data from the United States. For each statistic, answer the following:</p>
<ul>
<li>What information did you use to answer your question?</li>
<li>Did the digital object that contained the information follow the FAIR principles?</li>
<li>How did you access that information?
<ul>
<li>Did the storage and transfer of that information take into account security and privacy?</li>
</ul></li>
<li>How did you use that information to answer your question?</li>
<li>Do you have any ethical and/or equity concerns about this information?</li>
</ul>
</div>
</div>
<p><strong>Topic assignments:</strong></p>
<!-- GIVE TWO TOPICS -->
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>Student Last Name</th>
<th>Topic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Androlewicz</td>
<td>What percent of marriages end in divorce?</td>
</tr>
<tr class="even">
<td>Boyar</td>
<td>What is the percentage of African American men incarcerated compared to those in college?</td>
</tr>
<tr class="odd">
<td>Choate</td>
<td>What is the carbon footprint of raising a child?</td>
</tr>
<tr class="even">
<td>Clayman</td>
<td>What is the gender pay gap?</td>
</tr>
<tr class="odd">
<td>Cousins</td>
<td>At what age are women less likely to get pregnant?</td>
</tr>
<tr class="even">
<td>Daversa</td>
<td>What is the average student loan debt?</td>
</tr>
<tr class="odd">
<td>Dowdy</td>
<td>What is the rate of illegal immigration?</td>
</tr>
<tr class="even">
<td>Duhil de Benaze</td>
<td>What is the primary factor that causes homelessness?</td>
</tr>
<tr class="odd">
<td>Espinal-Guzman</td>
<td>What is the rate of sexual assault?</td>
</tr>
<tr class="even">
<td>Gallishaw</td>
<td>At what age do mental health disorders develop in people?</td>
</tr>
<tr class="odd">
<td>Garratt</td>
<td>What is the teenage pregnancy rate?</td>
</tr>
<tr class="even">
<td>Kim</td>
<td>At what year after being founded do most startup companies fail?</td>
</tr>
<tr class="odd">
<td>Morris</td>
<td>What percentage of immigrants are taking jobs from Americans?</td>
</tr>
<tr class="even">
<td>Mueller</td>
<td>What is the average cost of raising a child?</td>
</tr>
<tr class="odd">
<td>O’Brien</td>
<td>What percentage of crimes are committed by someone known to the victim?</td>
</tr>
<tr class="even">
<td>OKeefe</td>
<td>What percentage of welfare recipients are able-bodied adults who don’t work?</td>
</tr>
<tr class="odd">
<td>Pacheoco</td>
<td>What is the fraud rate of using food stamps?</td>
</tr>
<tr class="even">
<td>Pushard</td>
<td>Does the unemployment rate accurately reflect joblessness?</td>
</tr>
<tr class="odd">
<td>Scott</td>
<td>What percentage of immigrants are undocumented?</td>
</tr>
<tr class="even">
<td>Thadeio</td>
<td>What is the percentage of abortions performed on teenagers?</td>
</tr>
<tr class="odd">
<td>Thorbahn</td>
<td>What is the percentage of gun violence?</td>
</tr>
<tr class="even">
<td>Washington</td>
<td>What percentage of energy consumption comes from renewable sources?</td>
</tr>
</tbody>
</table>
<p><!-- | What is the percentage of voter fraud? --></p>
</section>
<section id="week-5-assignment" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="week-5-assignment"><span class="header-section-number">6.8</span> Week 5 Assignment</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
DEADLINE
</div>
</div>
<div class="callout-body-container callout-body">
<p>Due July 27, at 11:59 PM EDT on Canvas</p>
</div>
</div>
<section id="read-1" class="level3" data-number="6.8.1">
<h3 data-number="6.8.1" class="anchored" data-anchor-id="read-1"><span class="header-section-number">6.8.1</span> Read</h3>
<ul>
<li>Chapter 6: What Data Privacy Laws Exist?</li>
</ul>
</section>
<section id="optional-additional-read" class="level3" data-number="6.8.2">
<h3 data-number="6.8.2" class="anchored" data-anchor-id="optional-additional-read"><span class="header-section-number">6.8.2</span> Optional additional read</h3>
<ul>
<li><a href="https://www.urban.org/research/publication/do-no-harm-guide-applying-equity-awareness-data-visualization">Do No Harm Guide: Applying Equity Awareness in Data Visualization</a>.</li>
</ul>
</section>
<section id="optional-watch" class="level3" data-number="6.8.3">
<h3 data-number="6.8.3" class="anchored" data-anchor-id="optional-watch"><span class="header-section-number">6.8.3</span> Optional watch</h3>
<ul>
<li><a href="https://www.youtube.com/watch?v=wqn3gR1WTcA">Data Brokers: Last Week Tonight with John Oliver (HBO)</a></li>
</ul>
</section>
<section id="collect-data" class="level3" data-number="6.8.4">
<h3 data-number="6.8.4" class="anchored" data-anchor-id="collect-data"><span class="header-section-number">6.8.4</span> Collect data</h3>
<p>For one day, record how often private companies collect <em>your data</em> from the moment you wake up to the moment you go to bed. For example, opening a social media app or browsing the web.</p>
</section>
<section id="write-600-to-1200-words-1" class="level3" data-number="6.8.5">
<h3 data-number="6.8.5" class="anchored" data-anchor-id="write-600-to-1200-words-1"><span class="header-section-number">6.8.5</span> Write (600 to 1200 words)</h3>
<p>Based on your data log, answer the following questions:</p>
<ul>
<li>Is any of the information collected by private companies protected by a state or federal law?</li>
<li>What could a private company do with that information for the public good?</li>
<li>What could a private company do with that information that may harm or violate your personal privacy?</li>
<li>What are the data equity and ethical impacts of collecting this information?</li>
</ul>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-barrientos2024feasibility" class="csl-entry" role="listitem">
Barrientos, Andrés F, Aaron R Williams, Joshua Snoke, and Claire McKay Bowen. 2024. <span>“A Feasibility Study of Differentially Private Summary Statistics and Regression Analyses with Evaluations on Administrative and Survey Data.”</span> <em>Journal of the American Statistical Association</em> 119 (545): 52–65.
</div>
<div id="ref-bowen2023no" class="csl-entry" role="listitem">
Bowen, Claire McKay, and Joshua Snoke. 2023. <span>“<span>Do No Harm Guide: Applying Equity Awareness In Data Privacy Methods</span>.”</span> <em>Urban Institute</em>. <a href="https://www.urban.org/research/publication/do-no-harm-guide-applying-equity-awareness-data-privacy-methods">https://www.urban.org/research/publication/do-no-harm-guide-applying-equity-awareness-data-privacy-methods</a>.
</div>
<div id="ref-drechsler2022challenges" class="csl-entry" role="listitem">
Drechsler, Jörg. 2022. <span>“Challenges in Measuring Utility for Fully Synthetic Data.”</span> In <em>International Conference on Privacy in Statistical Databases</em>, 220–33. Springer.
</div>
<div id="ref-hu2024advancing" class="csl-entry" role="listitem">
Hu, Jingchen, and Claire McKay Bowen. 2024. <span>“Advancing Microdata Privacy Protection: A Review of Synthetic Data Methods.”</span> <em>Wiley Interdisciplinary Reviews: Computational Statistics</em> 16 (1): e1636.
</div>
<div id="ref-sweeney2013identifying" class="csl-entry" role="listitem">
Sweeney, Latanya, Akua Abu, and Julia Winn. 2013. <span>“Identifying Participants in the Personal Genome Project by Name (a Re-Identification Experiment).”</span> <a href="https://arxiv.org/abs/1304.7605">https://arxiv.org/abs/1304.7605</a>.
</div>
</div>
</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>“An article written to inform readers about recent events. The author reports and attempts to deepen understanding of recent events—for example, by providing background information and other kinds of additional context.” – <a href="https://libguides.csusm.edu/news/different_news_types">CSUSM Library</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./03_data-sharing-transfer.html" class="pagination-link" aria-label="Data Sharing and Transfer">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Sharing and Transfer</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./04_better-presentations.html" class="pagination-link" aria-label="Better Presentations">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Better Presentations</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>